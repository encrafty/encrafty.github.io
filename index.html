<!DOCTYPE html>
<html lang="en">

<head>
    <title>encrafty</title>
    <meta charset="UTF-8">
    <script src="https://www.google.com/recaptcha/enterprise.js?render=6LdN0C8rAAAAAB5fsp8_w1hyy3M1Hs-fWkww16zb"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="main.css"/>
</head>

<body>
<main class="main-wrapper">

    <section class="main container">

        <nav class="navbar">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 62.57 16.56">
                    <defs>
                        <style>
                            .cls-1 {
                                fill: #00a651;
                            }

                            .cls-2 {
                                fill: #231f20;
                            }
                        </style>
                    </defs>
                    <g id="Layer_2" data-name="Layer 2">
                        <g id="Layer_1-2" data-name="Layer 1">
                            <path class="cls-1"
                                  d="M.73,10.52c0-2.87,2-4.64,4.08-4.64,2.39,0,3.65,1.73,3.65,4.2a5.22,5.22,0,0,1-.09,1H2.76a2.51,2.51,0,0,0,2.61,2.46,3.81,3.81,0,0,0,2.05-.64l.7,1.29a5.45,5.45,0,0,1-3,1A4.28,4.28,0,0,1,.73,10.52Zm5.94-.84c0-1.37-.61-2.19-1.82-2.19A2.21,2.21,0,0,0,2.74,9.68Z"
                                  transform="translate(-0.73 -2)"/>
                            <path class="cls-1"
                                  d="M10.44,6.1h1.7l.16,1.19h.06a4.12,4.12,0,0,1,2.9-1.41c1.9,0,2.72,1.28,2.72,3.51v5.55H15.91V9.66c0-1.45-.42-2-1.38-2a2.79,2.79,0,0,0-2,1.1v6.18H10.44Z"
                                  transform="translate(-0.73 -2)"/>
                            <path class="cls-2"
                                  d="M19.94,10.52a4.37,4.37,0,0,1,4.44-4.64,3.78,3.78,0,0,1,2.58,1L26,8.22a2.15,2.15,0,0,0-1.47-.65c-1.42,0-2.41,1.18-2.41,2.95s1,2.94,2.35,2.94a2.93,2.93,0,0,0,1.83-.76l.84,1.37a4.4,4.4,0,0,1-2.89,1.09C21.79,15.16,19.94,13.46,19.94,10.52Z"
                                  transform="translate(-0.73 -2)"/>
                            <path class="cls-2"
                                  d="M28.84,6.1h1.7l.16,1.57h.06a3,3,0,0,1,2.51-1.79,2.29,2.29,0,0,1,1,.18l-.36,1.8A2.9,2.9,0,0,0,33,7.72c-.7,0-1.55.48-2.09,1.83v5.39H28.84Z"
                                  transform="translate(-0.73 -2)"/>
                            <path class="cls-2"
                                  d="M34.61,12.56c0-1.89,1.57-2.88,5.2-3.27,0-.95-.41-1.74-1.61-1.74a5,5,0,0,0-2.48.87L35,7a6.89,6.89,0,0,1,3.63-1.16c2.21,0,3.29,1.36,3.29,3.82v5.24h-1.7L40,14H40a4.26,4.26,0,0,1-2.75,1.2A2.49,2.49,0,0,1,34.61,12.56Zm5.2,0v-2c-2.4.31-3.2.93-3.2,1.82s.54,1.13,1.28,1.13A2.78,2.78,0,0,0,39.81,12.57Z"
                                  transform="translate(-0.73 -2)"/>
                            <path class="cls-2"
                                  d="M49.74,12V7.75h-6.2V6.19l1.29-.09h5l.24-2.42h1.72V6.1h2.26V7.75H51.81V12c0,1.05.41,1.56,1.26,1.56a2.8,2.8,0,0,0,.92-.2l.35,1.52a5.68,5.68,0,0,1-1.81.33C50.5,15.16,49.74,13.87,49.74,12Zm-5-6.78c0-1.83.84-3.18,2.93-3.18a4.71,4.71,0,0,1,1.62.31l-.4,1.55a2.6,2.6,0,0,0-1-.21c-.73,0-1.12.47-1.12,1.5v9.79H44.73Z"
                                  transform="translate(-0.73 -2)"/>
                            <path class="cls-2"
                                  d="M55.36,18.39l.38-1.61a2.5,2.5,0,0,0,.64.13,1.86,1.86,0,0,0,1.76-1.52l.17-.56L54.83,6.1h2.1l1.53,4.33c.26.79.52,1.66.77,2.5h.08c.22-.82.44-1.69.67-2.5L61.3,6.1h2l-3.19,9.24c-.74,2-1.67,3.23-3.6,3.23A3.38,3.38,0,0,1,55.36,18.39Z"
                                  transform="translate(-0.73 -2)"/>
                        </g>
                    </g>
                </svg>


                <h1>encrafty</h1>
            </div>

        </nav>

        <div class="main-entry">

            <section>
                <p class="call-to-action">
                    “Unlock Your English Superpower – Free IELTS Resources for Everyone!”
                </p>

                <p class="description">
                    <span class="bold">Prepare smarter, not harder for the IELTS exam</span>
                    <br>
                    Get free practice tools, tips, and guidance designed to help you achieve your target band score.
                </p>

                <p class="color-blue sub-description">“Created by an IELTS-tested developer who understands the challenge, Encrafty offers free access to
                    everything you need to succeed in the IELTS exam!”</p>

            </section>

            <section>

                <div class="form-wrapper">

                    <p class="form-title">Be the First to Access <span class="color-green">Encrafty</span>!</p>
                    <p>Sign up today to:</p>
                    <ul>
                        <li>
                            Get early access to exclusive free IELTS practice features.
                        </li>
                        <li>
                            Receive updates on the latest tools and platform developments before anyone else.
                        </li>
                        <li>
                            Be part of a growing community shaping Encrafty’s future.
                        </li>
                    </ul>
                    <p>Don’t miss out – secure your spot today!</p>

                    <form id="lead-form">

                        <input id="email"
                               name="email"
                               type="email"
                               placeholder="Your e‑mail"
                               required
                        />

                        <button class="button"
                                type="submit"
                        >Sign UP for Early Access Now</button>

                    </form>
                    <div id="message"></div>
                </div>
            </section>
        </div>

        <div class="circle"></div>
        <div class="triangle"></div>

    </section>


</main>

<script>
    const form = document.getElementById("lead-form");
    const msgDiv = document.getElementById("message");
    const FUNCTION_URL =
        "https://duvhjyczqgnjvdhpzuvk.functions.supabase.co/collectLead";
    const RECAPTCHA_SITE_KEY = "6LdN0C8rAAAAAB5fsp8_w1hyy3M1Hs-fWkww16zb";
    const ANON =
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR1dmhqeWN6cWduanZkaHB6dXZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU5MTg5NzcsImV4cCI6MjA2MTQ5NDk3N30.X_4aNftSdqqxhcysfm8uIPGUWNe9aGvBVUFC-2dCOzY";

    form.addEventListener("submit", async (evt) => {
        evt.preventDefault();
        msgDiv.textContent = "Submitting…";

        const email = form.email.value;
        let token;

        try {
            // 1) get recaptcha token
            token = await grecaptcha.enterprise.execute(RECAPTCHA_SITE_KEY);

            // 2) post to our Edge Function
            const resp = await fetch(FUNCTION_URL, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    apikey: ANON,
                    Authorization: `Bearer ${ANON}`,
                },
                body: JSON.stringify({email, recaptchaToken: token}),
            });

            const result = await resp.json();

            console.log('result', result)
            if (!resp.ok) throw result.error || "Unknown error";

            msgDiv.textContent = "Thank you! We'll be in touch.";
            form.reset();
        } catch (err) {
            console.error(err);
            msgDiv.textContent = "Error: " + (err.message || err);
        }
    });
</script>
</body>

</html>